<div class="container mt-5">
    <div class="card text-center">
        <div class="card-body">
            <img src="فاظات.jpeg" alt="Product Image" class="product-image">
            <h3 class="card-title">Congratulations, You Have Won The Auction</h3>
            <p class="card-text"><strong>Overall Appearance:</strong>
                These artifacts reflect exquisite craftsmanship and tell unique historical stories.
            </p>
            <hr class="custom-hr">
            <div class="register-container">
                <button class="btn btn-success" (click)="toggleForm()">Pay the auction now</button>
                <div *ngIf="formVisible" id="auctionForm">
                    <form [formGroup]="auctionForm" (ngSubmit)="onSubmit()">
                        <div class="form-group">
                            <label for="auctionAmount">Auction Amount</label>
                            <input formControlName="auctionAmount" type="number" class="form-control" id="auctionAmount" placeholder="Enter auction amount" required [value]="highestBidAmount">
                            <div *ngIf="auctionForm.controls['auctionAmount'].invalid && auctionForm.controls['auctionAmount'].touched" class="text-danger">
                                Auction Amount is required and must be greater than zero.
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="currency">Currency</label>
                            <input formControlName="currency" type="text" class="form-control" id="currency" placeholder="Enter currency (e.g., USD, EUR)" required>
                            <div *ngIf="auctionForm.controls['currency'].invalid && auctionForm.controls['currency'].touched" class="text-danger">
                                Currency is required.
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="paymentMethod">Select Payment Method</label>
                            <select formControlName="paymentMethod" class="form-control" id="paymentMethod">
                                <option value="" disabled>Select payment method</option>
                                <option value="creditCard">Credit Card</option>
                            </select>
                            <div *ngIf="auctionForm.controls['paymentMethod'].invalid && auctionForm.controls['paymentMethod'].touched" class="text-danger">
                                Payment Method is required.
                            </div>
                        </div>
                        <div *ngIf="auctionForm.get('paymentMethod')?.value === 'creditCard'">
                            <h3>Credit Card Details</h3>
                            <div id="card-element" class="card-element"></div>
                            <div id="card-errors" class="text-danger"></div>
                        </div>
                        <button type="submit" class="btn btn-primary" [disabled]="auctionForm.invalid">Confirm Payment</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
