<app-navbar></app-navbar>

<div class="register-container">
  <h2 style="margin-bottom: 20px;">Financial Donation</h2>
  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
    <!-- Donation Amount Field -->
    <div class="form-group">
      <label for="donationAmount">Donation Amount</label>
      <input formControlName="donationAmount" type="number" class="form-control" id="donationAmount" placeholder="Enter donation amount" required>
      <div *ngIf="registerForm.controls['donationAmount'].invalid && registerForm.controls['donationAmount'].touched" class="text-danger">
        Donation Amount is required and must be greater than zero.
      </div>
    </div>

    <!-- Currency Field -->
    <div class="form-group">
      <label for="currency">Currency</label>
      <input formControlName="currency" type="text" class="form-control" id="currency" placeholder="Enter currency (e.g., USD, EUR)" required>
      <div *ngIf="registerForm.controls['currency'].invalid && registerForm.controls['currency'].touched" class="text-danger">
        Currency is required.
      </div>
    </div>

    <!-- Payment Method Field -->
    <div class="form-group">
      <label for="paymentMethod">Select Payment Method</label>
      <select formControlName="paymentMethod" class="form-control" id="paymentMethod" required>
        <option value="" disabled selected>Select payment method</option>
        <option value="creditCard">Credit Card</option>
        <option value="paypal">PayPal</option>
      </select>
      <div *ngIf="registerForm.controls['paymentMethod'].invalid && registerForm.controls['paymentMethod'].touched" class="text-danger">
        Payment Method is required.
      </div>
    </div>

    <!-- Credit Card Fields (conditionally displayed if Credit Card is selected) -->
    <div *ngIf="registerForm.controls['paymentMethod'].value === 'creditCard'">
      <div class="form-group">
        <label for="cardNumber">Card Number</label>
        <input formControlName="cardNumber" type="text" class="form-control" id="cardNumber" placeholder="Enter your card number">
        <div *ngIf="registerForm.controls['cardNumber'].invalid && registerForm.controls['cardNumber'].touched" class="text-danger">
          Valid Card Number is required.
        </div>
      </div>
      <div class="form-row">
        <div class="form-group col">
          <label for="expiryDate">Expiry Date</label>
          <input formControlName="expiryDate" type="text" class="form-control" id="expiryDate" placeholder="MM/YY">
          <div *ngIf="registerForm.controls['expiryDate'].invalid && registerForm.controls['expiryDate'].touched" class="text-danger">
            Expiry Date is required.
          </div>
        </div>
        <div class="form-group col">
          <label for="cvv">CVV</label>
          <input formControlName="cvv" type="text" class="form-control" id="cvv" placeholder="CVV">
          <div *ngIf="registerForm.controls['cvv'].invalid && registerForm.controls['cvv'].touched" class="text-danger">
            CVV is required.
          </div>
        </div>
      </div>
    </div>

    <!-- PayPal Section (conditionally displayed if PayPal is selected) -->
    <div *ngIf="registerForm.controls['paymentMethod'].value === 'paypal'">
      <p>You will be redirected to PayPal to complete the payment.</p>
    </div>

    <button type="submit" class="btn btn-dark" [disabled]="registerForm.invalid">Donate</button>
  </form>
</div>
